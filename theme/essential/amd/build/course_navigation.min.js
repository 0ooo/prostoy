/**
 * Essential is a clean and customizable theme.
 *
 * @package     theme_essential
 * @copyright   2016 Gareth J Barnard
 * @copyright   2015 Gareth J Barnard
 * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
/* jshint ignore:start */
define(["jquery","core/log"],function(a,b){"use strict";// jshint ;_;
return b.debug("Essential Course Navigation AMD."),{init:function(){b.debug("Essential Course Navigation AMD init."),a(document).ready(function(a){var c=0,d=500,e=0;a(".navbar").length&&(e=a(".navbar"),c=e.height(),b.debug("Essential Course Navigation AMD navbar height: "+c));var f=location.href,g=location.href.indexOf("#");if(b.debug("Essential Course Navigation AMD navigation pageHrefBase 1: "+f),b.debug("Essential Course Navigation AMD navigation hrefIndex: "+g),g!=-1){f=location.href.substring(0,g),b.debug("Essential Course Navigation AMD navigation pageHrefBase 2: "+f);
// We are an anchor on the same site - otherwise why would this run?  Therefore still need to scroll.
var h=location.href,i=h.substring(h.indexOf("#")+1);b.debug("Essential Course Navigation AMD navigation page hash: "+i);var j=a('[id="'+i+'"]'),k=j.offset().top,l=k;e&&(l-="fixed"==e.css("position")?c:2*c),a("html, body").animate({scrollTop:l},d),b.debug("Essential Course Navigation AMD navigation page scrollTop: "+l),b.debug("Essential Course Navigation AMD navigation page target offset: "+k)}a('a[href*="\\#section-"]').each(function(){var g=this.href.substring(0,this.href.indexOf("#"));b.debug("Essential Course Navigation AMD navigation element: "+a(this).attr("href")),b.debug("Essential Course Navigation AMD navigation linkHrefBase: "+g),f==g&&a(this).click(function(f){f.preventDefault();var g=this.href;b.debug("Essential Course Navigation AMD navigation element url: "+g);var h=g.substring(g.indexOf("#")+1);b.debug("Essential Course Navigation AMD navigation element hash: "+h);var i=a('[id="'+h+'"]'),j=i.offset().top,k=j;e&&(k-="fixed"==e.css("position")?c:2*c),a("html, body").animate({scrollTop:k},d),b.debug("Essential Course Navigation AMD navigation element scrollTop: "+k),b.debug("Essential Course Navigation AMD navigation element target offset: "+j)})})})}}});